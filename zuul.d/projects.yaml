---
- project:
    # NOTE(pabelanger): All projects in ansible-network / ansible-security
    # must run system-required project-template
    name: ^github.com/ansible-(network|security)/.*
    templates:
      - system-required

- project:
    name: github.com/ansible-collections/amazon.aws
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - publish-to-galaxy
      - publish-to-automation-hub
      - ansible-collections-amazon-aws

- project:
    name: github.com/ansible-collections/ansible.netcommon
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-collections-ansible-netcommon-units
      - ansible-collections-arista-eos
      - ansible-collections-cisco-ios
      - ansible-collections-cisco-iosxr-netconf
      - ansible-collections-juniper-junos
      - ansible-collections-juniper-junos-netconf
      - ansible-collections-openvswitch-openvswitch
      - ansible-collections-vyos-vyos
      - ansible-python-jobs
      - integrated-queue
      - network-ee-container-image-jobs
      - network-ee-tests
      - publish-to-galaxy
      - publish-to-automation-hub

- project:
    name: github.com/ansible-collections/ansible.network
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - integrated-queue
      - ansible-collections-ansible-network-units
      - ansible-python-jobs
      - publish-to-galaxy
      - publish-to-automation-hub

- project:
    name: github.com/ansible-collections/ansible.posix
    default-branch: main
    templates:
      - system-required
      - ansible-collections-ansible-posix-units
      - network-ee-container-image-jobs
      - network-ee-tests
      - publish-to-galaxy
      - publish-to-automation-hub

- project:
    name: github.com/ansible-collections/ansible.security
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - integrated-queue
      - ansible-collections-ansible-security
      - publish-to-galaxy
      - ansible-python-jobs
      - publish-to-automation-hub

- project:
    name: github.com/ansible-collections/ansible.utils
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-collections-ansible-utils
      - ansible-collections-ansible-utils-units
      - ansible-python-jobs
      - network-ee-container-image-jobs
      - network-ee-tests
      - integrated-queue
      - publish-to-galaxy
      - publish-to-automation-hub

- project:
    name: github.com/ansible-collections/ansible.windows
    default-branch: main
    templates:
      - publish-to-galaxy-3pci
    pre-release:
      jobs:
        - release-ansible-collection-automation-hub
    release:
      jobs:
        - release-ansible-collection-automation-hub
        - release-ansible-collection-announcement:
            dependencies:
              - name: release-ansible-collection-automation-hub
              - name: release-ansible-collection-galaxy
                soft: true

- project:
    name: github.com/ansible-collections/arista.eos
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-collections-arista-eos
      - ansible-collections-arista-eos-units
      - ansible-python-jobs
      - network-ee-container-image-jobs
      - network-ee-tests
      - integrated-queue
      - publish-to-galaxy
      - publish-to-automation-hub

- project:
    name: github.com/ansible-collections/checkpoint
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-python-jobs
      - integrated-queue
      - publish-to-galaxy

- project:
    name: github.com/ansible-collections/cisco.asa
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-collections-cisco-asa
      - ansible-collections-cisco-asa-units
      - ansible-python-jobs
      - integrated-queue
      - network-ee-container-image-jobs
      - network-ee-tests
      - publish-to-galaxy
      - publish-to-automation-hub

- project:
    name: github.com/ansible-collections/cisco.ios
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-collections-cisco-ios
      - ansible-collections-cisco-ios-units
      - ansible-python-jobs
      - network-ee-container-image-jobs
      - network-ee-tests
      - integrated-queue
      - publish-to-galaxy
      - publish-to-automation-hub

- project:
    name: github.com/ansible-collections/cisco.iosxr
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-collections-cisco-iosxr
      - ansible-collections-cisco-iosxr-units
      - ansible-python-jobs
      - network-ee-container-image-jobs
      - network-ee-tests
      - integrated-queue
      - publish-to-galaxy
      - publish-to-automation-hub

- project:
    name: github.com/ansible-collections/cisco.nxos
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-collections-cisco-nxos
      - ansible-collections-cisco-nxos-units
      - ansible-python-jobs
      - integrated-queue
      - network-ee-container-image-jobs
      - network-ee-tests
      - publish-to-galaxy
      - publish-to-automation-hub

- project:
    name: github.com/ansible-collections/cloud.common
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-collections-cloud-common
      - ansible-python-jobs
      - network-ee-container-image-jobs
      - network-ee-tests
      - publish-to-galaxy
      - publish-to-automation-hub

- project:
    name: github.com/ansible-collections/community.asa
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-collections-community-asa
      - ansible-collections-community-asa-units
      - publish-to-galaxy

- project:
    name: github.com/ansible-collections/community.aws
    default-branch: main
    templates:
      - system-required
      - publish-to-galaxy
      - ansible-collections-community-aws

- project:
    name: github.com/ansible-collections/community.azure
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.cassandra
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.ciscosmb
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.crypto
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.digitalocean
    templates:
      - publish-to-galaxy-3pci
- project:
    name: github.com/ansible-collections/community.dns
    templates:
      - publish-to-galaxy-3pci
- project:
    name: github.com/ansible-collections/community.docker
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.fortios
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.general
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.google
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.grafana
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.hashi_vault
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.hrobot
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.internal_test_tools
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.kubernetes
    templates:
      - ansible-collections-community-kubernetes
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.kubevirt
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.libvirt
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.molecule
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.mongodb
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.mysql
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.network
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.okd
    templates:
      - ansible-collections-community-okd
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.postgresql
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.proxysql
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.rabbitmq
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.routeros
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.sops
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.vmware
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-collections-community-vmware
      - integrated-vmware-queue
      - publish-to-galaxy

- project:
    name: github.com/ansible-collections/community.windows
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/community.yang
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-collections-community-yang-juniper-junos
      - ansible-collections-community-yang-cisco-iosxr
      - ansible-collections-community-yang-units
      - ansible-python-jobs
      - publish-to-galaxy

- project:
    name: github.com/ansible-collections/community.zabbix
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/frr.frr
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-collections-frr-frr-units
      - ansible-python-jobs
      - integrated-queue
      - network-ee-container-image-jobs
      - network-ee-tests
      - publish-to-galaxy
      - publish-to-automation-hub

- project:
    name: github.com/ansible-collections/hetzner.hcloud
    templates:
      - publish-to-galaxy-3pci

- project:
    name: github.com/ansible-collections/ibm.qradar
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-collections-security-ibm-qradar
      - ansible-python-jobs
      - integrated-queue
      - network-ee-container-image-jobs
      - network-ee-tests
      - publish-to-galaxy
      - publish-to-automation-hub

- project:
    name: github.com/ansible-collections/junipernetworks.junos
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-collections-juniper-junos
      - ansible-collections-juniper-junos-units
      - ansible-python-jobs
      - integrated-queue
      - network-ee-container-image-jobs
      - network-ee-tests
      - publish-to-galaxy
      - publish-to-automation-hub

- project:
    name: github.com/ansible-collections/kubernetes.core
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-collections-kubernetes-core-units
      - network-ee-container-image-jobs
      - network-ee-tests
      - publish-to-galaxy

- project:
    name: github.com/ansible-collections/openvswitch.openvswitch
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-collections-openvswitch-openvswitch
      - ansible-collections-openvswitch-openvswitch-units
      - ansible-python-jobs
      - integrated-queue
      - network-ee-container-image-jobs
      - network-ee-tests
      - publish-to-galaxy
      - publish-to-automation-hub

- project:
    name: github.com/ansible-collections/servicenow.itsm
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-collections-servicenow-itsm-units
      - network-ee-container-image-jobs
      - network-ee-tests
      - publish-to-galaxy
      - publish-to-automation-hub

- project:
    name: github.com/ansible-collections/skydive
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-python-jobs
      - integrated-queue
      - publish-to-galaxy

- project:
    name: github.com/ansible-collections/splunk.es
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-collections-security-splunk-es
      - ansible-python-jobs
      - integrated-queue
      - network-ee-container-image-jobs
      - network-ee-tests
      - publish-to-galaxy
      - publish-to-automation-hub

- project:
    name: github.com/ansible-collections/symantec.epm
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-collections-symantec-epm-units
      - ansible-python-jobs
      - integrated-queue
      - network-ee-container-image-jobs
      - network-ee-tests
      - publish-to-galaxy
      - publish-to-automation-hub

- project:
    name: github.com/ansible-collections/trendmicro.deepsec
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-collections-security-trendmicro-deepsec-units
      - ansible-python-jobs
      - integrated-queue
      - network-ee-container-image-jobs
      - network-ee-tests
      - publish-to-galaxy
      - publish-to-automation-hub

- project:
    name: github.com/ansible-collections/vmware_rest_code_generator
    default-branch: main
    templates:
      - ansible-python3-jobs
      - ansible-collections-community-vmware-rest-code-generator
      - integrated-vmware-queue
    check:
      jobs:
        - ansible-tox-linters
    gate:
      jobs:
        - ansible-tox-linters

- project:
    name: github.com/ansible-collections/vmware.vmware_rest
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-collections-community-vmware-rest
      - integrated-vmware-queue
      - publish-to-galaxy
      - publish-to-automation-hub

- project:
    name: github.com/ansible-collections/vyos.vyos
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-collections-vyos-vyos
      - ansible-collections-vyos-vyos-units
      - ansible-python-jobs
      - network-ee-container-image-jobs
      - network-ee-tests
      - integrated-queue
      - publish-to-galaxy
      - publish-to-automation-hub

- project:
    name: github.com/ansible-community/ansible-bender
    templates:
      - system-required

- project:
    name: github.com/ansible-community/molecule-libvirt
    templates:
      - noop-jobs

- project:
    name: github.com/ansible-community/molecule-vagrant
    templates:
      - noop-jobs

- project:
    name: github.com/ansible-network/arista_eos
    default-branch: devel
    templates:
      - ansible-python-jobs

- project:
    name: github.com/ansible-network/aws_management
    default-branch: main
    templates:
      - system-required

- project:
    name: github.com/ansible-network/azure
    default-branch: devel
    templates:
      - noop-jobs

- project:
    name: github.com/ansible-network/backup_config
    templates:
      - noop-jobs

- project:
    name: github.com/ansible-network/cisco_asa
    default-branch: devel
    templates:
      - noop-jobs

- project:
    name: github.com/ansible-network/cisco_ios
    default-branch: devel
    templates:
      - ansible-python3-jobs
    check:
      jobs:
        - ansible-tox-linters
        - ansible-tox-py27
    gate:
      jobs:
        - ansible-tox-linters
        - ansible-tox-py27

- project:
    name: github.com/ansible-network/cisco_iosxr
    default-branch: devel
    templates:
      - ansible-python-jobs

- project:
    name: github.com/ansible-network/cisco_nxos
    default-branch: devel
    templates:
      - ansible-python-jobs

- project:
    name: github.com/ansible-network/cloud_vpn
    default-branch: devel
    check:
      jobs:
        - ansible-tox-linters
    gate:
      jobs:
        - ansible-tox-linters

- project:
    name: github.com/ansible-network/collection_migration
    templates:
      - noop-jobs

- project:
    name: github.com/ansible-network/config_manager
    default-branch: devel
    templates:
      - noop-jobs

- project:
    name: github.com/ansible-network/content_store
    default-branch: devel
    templates:
      - noop-jobs

- project:
    name: github.com/ansible-network/juniper_junos
    default-branch: devel
    templates:
      - ansible-python-jobs
      - ansible-python3-jobs
    check:
      jobs:
        - ansible-tox-py27
    gate:
      jobs:
        - ansible-tox-py27

- project:
    name: github.com/ansible-network/network_configurator
    default-branch: devel
    templates:
      - noop-jobs

- project:
    name: github.com/ansible-network/network-engine
    default-branch: devel
    templates:
      - ansible-python3-jobs
    check:
      jobs:
        - ansible-tox-linters
        - ansible-tox-py27
    gate:
      jobs:
        - ansible-tox-linters
        - ansible-tox-py27

- project:
    name: github.com/ansible-network/network-image-builder
    templates:
      - noop-jobs

- project:
    name: github.com/ansible-network/network-runner
    default-branch: devel
    templates:
      - ansible-python3-jobs
    check:
      jobs:
        - ansible-tox-linters
    gate:
      jobs:
        - ansible-tox-linters

- project:
    name: github.com/ansible-network/openstack
    default-branch: devel
    templates:
      - noop-jobs

- project:
    name: github.com/ansible-network/packet-ci-cloud
    templates:
      - noop-jobs

- project:
    name: github.com/ansible-network/releases
    check:
      jobs:
        - ansible-tox-linters
    gate:
      jobs:
        - ansible-tox-linters

- project:
    name: github.com/ansible-network/resource_module_builder
    templates:
      - noop-jobs

- project:
    name: github.com/ansible-network/resource_module_models
    templates:
      - noop-jobs

- project:
    name: github.com/ansible-network/resource_module_planning
    templates:
      - noop-jobs

- project:
    name: github.com/ansible-network/rhel
    default-branch: devel
    templates:
      - noop-jobs

- project:
    name: github.com/ansible-network/sandbox
    templates:
      - noop-jobs
    merge-mode: squash-merge

- project:
    name: github.com/ansible-network/vyos
    default-branch: devel
    check:
      jobs:
        - ansible-tox-linters
        - ansible-tox-py27:
            required-projects:
              - name: github.com/ansible-network/network-engine
        - ansible-tox-py36:
            required-projects:
              - name: github.com/ansible-network/network-engine
        - ansible-tox-py37:
            required-projects:
              - name: github.com/ansible-network/network-engine
    gate:
      jobs:
        - ansible-tox-linters
        - ansible-tox-py27:
            required-projects:
              - name: github.com/ansible-network/network-engine
        - ansible-tox-py36:
            required-projects:
              - name: github.com/ansible-network/network-engine
        - ansible-tox-py37:
            required-projects:
              - name: github.com/ansible-network/network-engine

- project:
    name: github.com/ansible-security/ids_config
    check:
      jobs:
        - ansible-tox-linters
    gate:
      jobs:
        - ansible-tox-linters

- project:
    name: github.com/ansible-security/ids_install
    check:
      jobs:
        - ansible-tox-linters
    gate:
      jobs:
        - ansible-tox-linters

- project:
    name: github.com/ansible/ansible
    default-branch: devel
    templates:
      - ansible-test-network-integration
    third-party-check-silent:
      jobs:
        - ansible-runner-build-container-image-stable-2.9:
            branches: stable-2.9
    post:
      jobs:
        - ansible-runner-upload-container-image:
            branches: devel
            vars:
              upload_container_image_promote: false
        - ansible-runner-upload-container-image-stable-2.11:
            branches: stable-2.11
            vars:
              upload_container_image_promote: false
        - ansible-runner-upload-container-image-stable-2.10:
            branches: stable-2.10
            vars:
              upload_container_image_promote: false
        - ansible-runner-upload-container-image-stable-2.9:
            branches: stable-2.9
            vars:
              upload_container_image_promote: false

- project:
    name: github.com/ansible/ansible-builder
    default-branch: devel
    templates:
      - execution-environments-queue
      - system-required
      - ansible-python-jobs
      - ansible-python3-jobs
      - publish-to-pypi

- project:
    name: github.com/ansible/ansible-core-image
    default-branch: main
    templates:
      - execution-environments-queue
      - system-required

- project:
    name: github.com/ansible/ansible-navigator
    default-branch: main
    merge-mode: squash-merge
    templates:
      - system-required
      - ansible-navigator-jobs
      - publish-to-pypi

- project:
    name: github.com/ansible/ansible-runner
    default-branch: devel
    templates:
      - system-required
      - execution-environments-queue
      - ansible-python-jobs   # linting-only
      - ansible-python3-jobs  # py3 tox jobs
      - publish-to-pypi
    check:
      jobs:
        - ansible-runner-tox-ansible29:
            branches: 'devel'
        - ansible-runner-tox-ansible-base:  # not expecting older stable versions to support ansible-base
            branches: 'devel'
        - ansible-tox-py27:
            branches: '^stable/1.*'
        - ansible-tox-py36:
            branches: '^stable/1.*'
    gate:
      jobs:
        - ansible-runner-tox-ansible29:
            branches: 'devel'
        - ansible-runner-tox-ansible-base:  # not expecting older stable versions to support ansible-base
            branches: 'devel'
        - ansible-tox-py27:
            branches: '^stable/1.*'
        - ansible-tox-py36:
            branches: '^stable/1.*'

- project:
    name: github.com/ansible/ansible-zuul-jobs
    merge-mode: squash-merge
    templates:
      - system-required

- project:
    name: github.com/ansible/awx
    default-branch: devel
    check:
      jobs: []

- project:
    name: github.com/ansible/cloud-ee
    default-branch: main
    templates:
      - system-required

- project:
    name: github.com/ansible/network
    default-branch: devel
    templates:
      - system-required
    check:
      jobs:
        - ansible-tox-linters
    gate:
      jobs:
        - ansible-tox-linters

- project:
    name: github.com/ansible/network-ee
    default-branch: main
    templates:
      - system-required

- project:
    name: github.com/ansible/project-config
    templates:
      - system-required
      - ansible-python-jobs
    check:
      jobs:
        - project-config-tox-github
    gate:
      jobs:
        - project-config-tox-github
    periodic:
      jobs:
        - refresh-automation-hub-token
    promote:
      jobs:
        - project-config-github-promote
        - windmill-config-deploy:
            files:
              - zuul/tenants.yaml

- project:
    name: github.com/ansible/pylibssh
    default-branch: devel

- project:
    name: github.com/ansible/python-base-image
    default-branch: main
    templates:
      - system-required
      - execution-environments-queue

- project:
    name: github.com/ansible/python-builder-image
    default-branch: main
    templates:
      - system-required
      - execution-environments-queue

- project:
    name: github.com/ansible/workshops
    default-branch: devel
    third-party-check:
      jobs:
        - ansible-tox-linters
        - workshops-tox-integration-f5
        - workshops-tox-integration-networking
        - workshops-tox-integration-rhel
        - workshops-tox-integration-security
        - workshops-tox-integration-smart-mgmt
        - workshops-tox-integration-windows

- project:
    name: github.com/pabelanger/pabelanger-sandbox1
    3pci-check:
      jobs:
        - ansible-tox-linters

- project:
    name: github.com/pycontribs/selinux
    templates:
      - system-required
